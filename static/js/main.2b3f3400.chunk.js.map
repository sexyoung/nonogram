{"version":3,"sources":["pages/NonogramPage/components/PopWin/style.module.scss","pages/NonogramPage/components/Nonogram/style.module.scss","pages/NonogramPage/components/Nonogram/components/Matrix/style.module.scss","pages/NonogramPage/components/Nonogram/components/BitLine/style.module.scss","pages/NonogramPage/style.module.scss","pages/HomePage/style.module.scss","pages/NonogramPage/components/PopMenu/style.module.scss","pages/NonogramPage/components/SignTool/style.module.scss","actions/gameAction.ts","stages/index.ts","pages/HomePage/index.tsx","actions/signAction.ts","pages/NonogramPage/index.tsx","pages/NonogramPage/components/PopWin/index.tsx","pages/NonogramPage/components/PopMenu/index.tsx","pages/NonogramPage/components/SignTool/index.tsx","pages/NonogramPage/components/Nonogram/components/Matrix/index.tsx","actions/matrixAction.ts","pages/NonogramPage/components/Nonogram/components/BitLine/index.tsx","pages/NonogramPage/components/Nonogram/index.tsx","hooks/useSize.ts","pages/NotFoundPage/index.tsx","App/index.tsx","serviceWorker.js","reducers/gameReducer.ts","reducers/signReducer.ts","reducers/martrixReducer.ts","reducers/index.ts","index.js"],"names":["module","exports","STATUS","stages","stage1","stage2","stage3","stage4","HomePage","props","className","style","header","Object","keys","map","stage","to","key","SIGN","setStatus","payload","type","interval","PopWin","onNext","onRestart","matrixData","onBackMenu","matrixDOM","createRef","useEffect","hCount","length","vCount","current","height","offsetWidth","winWrapper","win","ref","matrix","row","y","col","x","cx","check","title","onClick","PopMenu","onClose","popMenuDOM","menuWrapper","e","target","menu","mapDispatch2Props","changeSign","SignTool","connect","state","sign","handleChange","value","id","name","CHECK","onChange","checked","htmlFor","CROSS","mark","Matrix","martrix","data","useState","setX","setY","isErase","setIsErase","handleStart","NONE","handleMove","DOM","document","elementFromPoint","touches","clientX","clientY","getAttribute","updateX","updateY","handleEnd","every","WIN","data-x","data-y","data-type","cross","onTouchStart","bind","onTouchMove","onTouchEnd","longestLen","Math","max","arr","BitLine","direction","maxLen","lineData","index","Line","offset","flex","bitNumber","BitNumber","flatSum","join","replace","split","s","filter","v","Nonogram","hData","Array","vData","vMaxLen","hMaxLen","col1Style","col2Style","hLen","vLen","size","setSize","curWidth","curHeight","resize","width","params","window","borderW","innerWidth","borderH","innerHeight","wBaseSize","hBaseSize","addEventListener","removeEventListener","useResize","firstRow","empty","horizontalInfo","secondRow","verticalInfo","matrixBlock","emptyMatrix","fill","set","setTime","tickTime","NonogramPage","game","time","status","history","useHistory","lv","useParams","isWin","isPause","PAUSE","isPlaying","PLAYING","setInterval","clearInterval","handleRestart","handleBackMenu","push","slice","t","timeFormatter","pause","stageList","nextIndex","indexOf","NotFoundPage","App","exact","path","Boolean","location","hostname","match","initData","gameReducer","action","signReducer","martrixReducer","newState","rootReducer","combineReducers","store","createStore","redcuers","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"6FACAA,EAAOC,QAAU,CAAC,WAAa,0BAA0B,OAAS,sBAAsB,IAAM,mBAAmB,KAAO,oBAAoB,OAAS,sBAAsB,IAAM,mBAAmB,IAAM,mBAAmB,MAAQ,qBAAqB,MAAQ,uB,gBCAlQD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,SAAW,wBAAwB,UAAY,yBAAyB,YAAc,6B,oBCA3ID,EAAOC,QAAU,CAAC,OAAS,sBAAsB,IAAM,mBAAmB,IAAM,mBAAmB,MAAQ,qBAAqB,MAAQ,uB,gBCAxID,EAAOC,QAAU,CAAC,QAAU,uBAAuB,WAAa,0BAA0B,KAAO,oBAAoB,SAAW,wBAAwB,UAAY,2B,gBCApKD,EAAOC,QAAU,CAAC,aAAe,4BAA4B,OAAS,sBAAsB,GAAK,kBAAkB,KAAO,oBAAoB,MAAQ,uB,sBCAtJD,EAAOC,QAAU,CAAC,SAAW,wBAAwB,OAAS,sBAAsB,MAAQ,uB,gBCA5FD,EAAOC,QAAU,CAAC,YAAc,2BAA2B,KAAO,oBAAoB,MAAQ,uB,ksBCA9FD,EAAOC,QAAU,CAAC,SAAW,0B,uHCGjBC,E,uEC4CGC,EA1BA,CAEbC,O,MACAC,O,MACAC,O,MACAC,O,wBCfWC,EAAW,SAACC,GACvB,OACE,yBAAKC,UAAWC,IAAMH,UACpB,4BAAQE,UAAWC,IAAMC,QAAzB,gBACCC,OAAOC,KAAKX,GAAQY,KAAI,SAAAC,GAAK,OAC5B,kBAAC,IAAD,CACEC,GAAE,gBAAWD,GACbE,IAAKF,EACLN,UAAWC,IAAMK,OACjBA,Q,kBFjBEd,K,UAAAA,E,cAAAA,E,mBAAAA,M,KA2BL,IG/BKiB,EHmCCC,EAAY,SAACC,GAAD,MAAuC,CAC9DC,KAlCwB,aAmCxBD,a,SGrCUF,O,eAAAA,I,iBAAAA,I,mBAAAA,M,KAML,ICyBHI,E,wCCxBSC,EAAS,SAAC,GAKT,IAJZC,EAIW,EAJXA,OACAC,EAGW,EAHXA,UACAC,EAEW,EAFXA,WACAC,EACW,EADXA,WAGMC,EAAYC,sBAQlB,OANAC,qBAAU,WACR,IAAMC,EAASL,EAAWM,OACpBC,EAASP,EAAW,GAAGM,OAC7BJ,EAAUM,QAASxB,MAAMyB,OAAzB,UAAqCP,EAAUM,QAASE,YAAcL,EAASE,EAA/E,QACC,IAGD,yBAAKxB,UAAWC,IAAM2B,YACpB,wBAAI5B,UAAWC,IAAM4B,KACnB,4BACE,yBAAKC,IAAKX,EAAWnB,UAAWC,IAAM8B,QACnCd,EAAWZ,KAAI,SAAC2B,EAAKC,GAAN,OACd,yBAAKzB,IAAKyB,EAAGjC,UAAWC,IAAM+B,KAC3BA,EAAI3B,KAAI,SAAC6B,EAAKC,GAAN,OACP,yBAAK3B,IAAK2B,EAAGnC,UAAWoC,IACtBnC,IAAMiC,IADkB,eAErBjC,IAAMoC,MAAQH,eAQ7B,wBAAIlC,UAAWC,IAAMqC,OAArB,WACA,wBAAIC,QAASxB,GAAb,QACA,wBAAIwB,QAASvB,GAAb,WACA,wBAAIuB,QAASrB,GAAb,W,iBCrCKsB,EAAU,SAAC,GAA+C,IAA7CC,EAA4C,EAA5CA,QAASzB,EAAmC,EAAnCA,UAAWE,EAAwB,EAAxBA,WAEtCwB,EAAatB,sBAMnB,OACE,yBAAKU,IAAKY,EAAY1C,UAAWC,IAAM0C,YAAaJ,QALlC,SAACK,GAClBA,EAAEC,SAAWH,EAAWjB,SAAYgB,MAKnC,wBAAIzC,UAAWC,IAAM6C,MACnB,wBAAI9C,UAAWC,IAAMqC,OAArB,SACA,wBAAIC,QAASE,GAAb,UACA,wBAAIF,QAASvB,GAAb,WACA,wBAAIuB,QAASrB,GAAb,W,yBCuBF6B,EAAoB,CACxBC,WAAY,SAACrC,GAAD,OJ7BY,SAACA,GAAD,MAAsC,CAC9DC,KAVyB,cAWzBD,WI2B+BqC,CAAWrC,KAG/BsC,EAAWC,aARD,SAACC,GAAD,MAAuB,CAC5CC,KAAMD,EAAMC,QASZL,EAFsBG,EAtCiC,SAAC,GAA8B,IAA5BF,EAA2B,EAA3BA,WAAejD,EAAY,8BAE/EsD,EAAe,SAACT,GACpBI,GAAYJ,EAAEC,OAAOS,QAGvB,OACE,yBAAKtD,UAAWC,IAAMgD,UACpB,2BACEM,GAAG,QACHC,KAAK,OACL5C,KAAK,QACL0C,MAAO7C,EAAKgD,MACZC,SAAUL,EACVM,QAAS5D,EAAMqD,OAAS3C,EAAKgD,QAE/B,2BAAOG,QAAQ,SAAf,gBACA,2BACEL,GAAG,QACHC,KAAK,OACL5C,KAAK,QACL0C,MAAO7C,EAAKoD,MACZH,SAAUL,EACVM,QAAS5D,EAAMqD,OAAS3C,EAAKoD,QAE/B,2BAAOD,QAAQ,SAAf,kB,+BC6EAb,EAAoB,CACxBe,KCvFkB,SAACnD,GAAD,MAA8B,CAAEC,KArBhC,OAqB4CD,YDwF9DD,aAGWqD,EAASb,aAVC,SAACC,GAAD,MAAuB,CAC5CC,KAAMD,EAAMC,KACZY,QAASb,EAAMa,WAQ6BjB,EAAxBG,EAxGiC,SAAC,GAM1C,IALZY,EAKW,EALXA,KACAG,EAIW,EAJXA,KACAb,EAGW,EAHXA,KACAY,EAEW,EAFXA,QACAtD,EACW,EADXA,UACW,EAEOwD,oBAAU,GAFjB,mBAEJ/B,EAFI,KAEDgC,EAFC,OAGOD,oBAAU,GAHjB,mBAGJjC,EAHI,KAGDmC,EAHC,OAImBF,oBAAS,GAJ5B,mBAIJG,EAJI,KAIKC,EAJL,KAULC,EAAc,SAACpC,EAAWF,GAC3B+B,EAAQ7B,GAAGF,KAAOmB,GACnBkB,GAAW,GACXR,EAAK,CAAC3B,IAAGF,IAAGmB,KAAM3C,EAAK+D,QAEvBV,EAAK,CAAC3B,IAAGF,IAAGmB,UAIVqB,EAAa,SAAC7B,GAClB,IAAM8B,EAAMC,SAASC,iBACnBhC,EAAEiC,QAAQ,GAAGC,QACblC,EAAEiC,QAAQ,GAAGE,SAEf,GAAW,OAARL,GACkC,QAAlCA,EAAIM,aAAa,aAApB,CAEA,IAAMC,GAAkBP,EAAIM,aAAa,UACnCE,GAAkBR,EAAIM,aAAa,UAEtCC,IAAY9C,GAAK+C,IAAYjD,IAC9BkC,EAAKc,GACLb,EAAKc,GACLpB,EAAK,CACH3B,EAAG8C,EACHhD,EAAGiD,EACH9B,KAAMiB,EAAU5D,EAAK+D,KAAMpB,OAK3B+B,EAAY,WAChBb,GAAW,IAmBb,OAhBAjD,qBAAU,WACU2C,EAAQoB,OAAM,SAACpD,EAAcG,GAAf,OAC9B,YAAIH,EAAI5B,QAAQgF,OAAM,SAAAnD,GAAC,OACrB+B,EAAQ7B,GAAGF,KAAOxB,EAAKgD,MACrBO,EAAQ7B,GAAGF,KAAOgC,EAAK9B,GAAGF,GAC1BgC,EAAK9B,GAAGF,KAAQxB,EAAKgD,aAKzB/C,EAAUlB,EAAO6F,OAGlB,CAACrB,EAASC,IAIX,yBAAKjE,UAAWC,IAAM8D,QACnBE,EAAK5D,KAAI,SAAC2B,EAAKG,GAAN,OACR,yBAAK3B,IAAK2B,EAAGnC,UAAWC,IAAM+B,KAC3B,YAAIA,EAAI5B,QAAQC,KAAI,SAAC4B,GAAD,aACnB,yBACEqD,SAAQnD,EACRoD,SAAQtD,EACRuD,YAAU,MACVhF,IAAKyB,EACLjC,UAAWoC,IAAGnC,IAAMiC,KAAP,mBACVjC,IAAMoC,MAA0B,IAAlB2B,EAAQ7B,GAAGF,IADf,cAEVhC,IAAMwF,OAA2B,IAAnBzB,EAAQ7B,GAAGF,IAFf,IAMbyD,aAAcnB,EAAYoB,U,EAAWxD,EAAGF,GACxC2D,YAAanB,EACboB,WAAYV,e,iBEvFbW,EAAa,SAAC7B,GAAD,OACxB8B,KAAKC,IAAL,MAAAD,KAAI,YAAQ9B,EAAK5D,KAAI,SAAA4F,GAAG,OAAIA,EAAI1E,aAErB2E,EAA0C,SAAC,GAAyB,IAAvBjC,EAAsB,EAAtBA,KAAMkC,EAAgB,EAAhBA,UACxDC,EAASN,EAAW7B,GAC1B,OACE,yBAAKjE,UAAWoC,IACdnC,IAAMiG,QADU,eAEbjG,IAAMkG,IAAa,KAGrBlC,EAAK5D,KAAI,SAACgG,EAAUC,GAAX,OACR,yBAAK9F,IAAK8F,EAAOtG,UAAWC,IAAMsG,MAChC,yBACEvG,UAAWC,IAAMuG,OACjBvG,MAAO,CAACwG,KAAML,EAASC,EAAS9E,UAEjC8E,EAAShG,KAAI,SAACqG,EAAWJ,GAAZ,OACZ,yBAAK9F,IAAK8F,EAAOtG,UAAWC,IAAM0G,WAC/BD,Y,gBCfFE,EAAU,SAACX,GAAD,OACrBA,EAAIY,KAAK,IACNC,QAAQ,MAAO,KACfC,MAAM,KACN1G,KAAI,SAAA2G,GAAC,OAAIA,EAAEzF,UACX0F,QAAO,SAAAC,GAAC,OAAIA,MAIJC,EAA2C,SAAC,GAElD,IADLlG,EACI,EADJA,WAIMmG,EAAqB,YAAIC,MAAMpG,EAAW,GAAGM,QAAQnB,QAAQC,KAAI,SAAAiG,GAAK,OAC1EM,EAAQ3F,EAAWZ,KAAI,SAAA2B,GAAG,OAAIA,EAAIsE,UAE9BgB,EAAqBrG,EAAWZ,IAAIuG,GAEpCW,EAAkBzB,EAAWwB,GAC7BE,EAAkB1B,EAAWsB,GAC7BK,EAAoB,CAAEhB,KAAMc,GAC5BG,EAAoB,CAAEjB,KAAMW,EAAM7F,QAXpC,ECToC,SAAC,GAE3B,IADZoG,EACW,EADXA,KAAMC,EACK,EADLA,KACK,EACW1D,mBAAS,CAAC,EAAG,IADxB,mBACN2D,EADM,KACAC,EADA,KA2Cb,OAzCAzG,qBAAU,WACR,IAAI0G,EAAW,EACXC,EAAY,EAEhB,SAASC,IACP,IAAIC,EAAQ,EACRxG,EAAS,EAEb,IAAIiG,IAASC,EAAM,OAAOE,EAAQ,CAAC,EAAG,IAJtB,IArBWK,EAqBX,EASZC,OAFUC,EAPE,EAOdC,WACaC,EARC,EAQdC,YARc,EApBb,CACLC,UAAW,CACTP,OAH2BC,EAkCe,CACxCR,OACAC,OACAS,UACAE,YAnCYF,QACd3G,OAAQyG,EAAOE,QAAUF,EAAOR,KAAOQ,EAAOP,MAEhDc,UAAW,CACTR,MAAOC,EAAOI,QAAUJ,EAAOP,KAAOO,EAAOR,KAC7CjG,OAAQyG,EAAOI,UA0BPE,EAbQ,EAaRA,UAAWC,EAbH,EAaGA,UAOhBD,EAAUP,OAASG,GAAWI,EAAU/G,QAAU6G,GACnDL,EAAQO,EAAUP,MAClBxG,EAAS+G,EAAU/G,SAEnBwG,EAAQQ,EAAUR,MAClBxG,EAASgH,EAAUhH,QAElBqG,IAAaG,GAASF,IAActG,IACrCoG,EAAQ,CAAEI,EAAOxG,IACjBqG,EAAWG,EACXF,EAAYtG,GAKhB,OAFA0G,OAAOO,iBAAiB,SAAUV,GAClCA,IACO,kBAAMG,OAAOQ,oBAAoB,SAAUX,MACjD,CAACN,EAAMC,IACHC,EDtBmBgB,CAAU,CAClClB,KAAMP,EAAM7F,OAASgG,EACrBK,KAAMN,EAAM/F,OAASiG,IAhBnB,mBAcIU,EAdJ,KAcWxG,EAdX,KAmBJ,OAAIwG,GAAUxG,EAGZ,yBACEzB,MAAO,CAAEiI,QAAOxG,UAChB1B,UAAWC,IAAMkH,UAEjB,yBAAKnH,UAAWC,IAAM6I,SAAU7I,MAAO,CAACwG,KAAMe,IAC5C,yBAAKxH,UAAWC,IAAM8I,MAAO9I,MAAOwH,IACpC,yBAAKzH,UAAWC,IAAM+I,eAAgB/I,MAAOyH,GAC3C,kBAAC,EAAD,CAASzD,KAAMmD,EAAOjB,UAAW,iBAGrC,yBAAKnG,UAAWC,IAAMgJ,UAAWhJ,MAAO,CAACwG,KAAMa,EAAM/F,SACnD,yBAAKvB,UAAWC,IAAMiJ,aAAcjJ,MAAOwH,GACzC,kBAAC,EAAD,CAASxD,KAAMqD,EAAOnB,UAAW,cAEnC,yBAAKnG,UAAWC,IAAMkJ,YAAalJ,MAAOyH,GACxC,kBAAC3D,EAAW,CACVE,KAAMhD,OAnBa,M,iBPxBzBmI,EAAc,SAACnI,GAAD,OAClBA,EAAWZ,KAAI,SAAA2B,GAAG,OAAIqF,MAAMrF,EAAIT,QAAQ8H,KAAK,OAqGzCtG,EAAoB,CACxBuG,IKnGiB,SAAC3I,GAAD,MAA4B,CAAEC,KArB9B,MAqByCD,YLoG1D4I,QJpFqB,SAAC5I,GAAD,MAAqC,CAC1DC,KAzCsB,WA0CtBD,YImFA6I,SJ9FsB,iBAAuB,CAC7C5I,KA/BuB,cI6HvBF,aAGW+I,EAAevG,aAXL,SAACC,GAAD,sBAClBA,EAAMuG,QAUyC3G,EAAxBG,EAhGN,SAAC,GAOT,IANZoG,EAMW,EANXA,IACAK,EAKW,EALXA,KACAC,EAIW,EAJXA,OACAL,EAGW,EAHXA,QACAC,EAEW,EAFXA,SACA9I,EACW,EADXA,UAEMmJ,EAAUC,cACRC,EAA0BC,cAA1BD,GAEFE,EAAQzK,EAAO6F,MAAQuE,EACvBM,EAAU1K,EAAO2K,QAAUP,EAC3BQ,EAAY5K,EAAO6K,UAAYT,EAErCvI,qBAAU,WACRiI,EAAIF,EAAY3J,EAAOsK,OACtB,CAACA,IAEJ1I,qBAAU,WAIR,OAHG+I,IAAWvJ,EAAWyJ,aAAY,WACnCd,MACC,MACI,kBAAMe,cAAc1J,MAC1B,CAACuJ,IAEJ/I,qBAAU,WACR4I,GAASM,cAAc1J,KACtB,CAACoJ,IAEJ,IAAMO,EAAgB,WACpBjB,EAAQ,GACR7I,EAAUlB,EAAO6K,SACjBf,EAAIF,EAAY3J,EAAOsK,MAGnBU,EAAiB,WACrBD,IACAX,EAAQa,KAAK,MAYf,OACE,yBAAK1K,UAAWC,IAAMwJ,cACpB,kBAAC,EAAa,CAAExI,WAAYxB,EAAOsK,KACnC,kBAAC9G,EAAD,MACA,yBAAKjD,UAAWC,IAAMC,QACpB,yBAAKF,UAAWC,IAAM8J,IAAtB,SACSA,EAAGY,MAAM,IAElB,yBAAK3K,UAAWC,IAAM0J,MApER,SAACiB,GACrB,IAAI5D,EAAY,YAAK4D,EAAI,IAAKD,OAAO,GAIrC,SAHMC,EAAI,MACR5D,EAAC,aAAS4D,EAAI,IAAb,YAAoB5D,IAEhBA,EAgEE6D,CAAclB,IAEjB,yBACE3J,UAAWC,IAAM6K,MACjBvI,QAAS7B,EAAUiF,U,EAAWnG,EAAO2K,UAGxCD,GACC,kBAAC,EAAD,CACElJ,UAAWwJ,EACXtJ,WAAYuJ,EACZhI,QAAS/B,EAAUiF,U,EAAWnG,EAAO6K,WAGxCJ,GACC,kBAAC,EAAD,CACElJ,OAlCW,WACjB,IAAMgK,EAAY5K,OAAOC,KAAKX,GACxBuL,GAAaD,EAAUE,QAAQlB,GAAM,GAAKgB,EAAUxJ,OAC1DgI,EAAQ,GACRD,EAAIF,EAAY3J,EAAQsL,EAAUC,MAClCnB,EAAQa,KAAR,gBAAsBK,EAAUC,KAChCtK,EAAUlB,EAAO6K,UA6BXpJ,WAAYxB,EAAOsK,GACnB/I,UAAWwJ,EACXtJ,WAAYuJ,QSzGTS,EAAe,SAACnL,GAC3B,OACE,8C,oBCOW,SAASoL,KACtB,OACE,yBAAKnL,UAAWC,KAAMkL,KACpB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,KAAI,kBAAC,EAAD,OACtB,kBAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,aAAY,kBAAC5B,EAAD,OAC9B,kBAAC,IAAD,CAAO4B,KAAK,KAAI,kBAAC,EAAD,UCVNC,QACW,cAA7BlD,OAAOmD,SAASC,UAEe,UAA7BpD,OAAOmD,SAASC,UAEhBpD,OAAOmD,SAASC,SAASC,MACvB,2DCVN,IAAMC,GAAW,CACf/B,KAAM,EACNC,OAAQpK,EAAO6K,SAyBFsB,GAtBK,WAAgD,IAA/CxI,EAA8C,uDAAtCuI,GAAUE,EAA4B,uCACjE,OAAQA,EAAOhL,MACf,IhBduB,YgBerB,OAAO,eACFuC,EADL,CAEEwG,KAAMxG,EAAMwG,KAAO,IAEvB,IhBpBsB,WgBqBpB,OAAO,eACFxG,EADL,CAEEwG,KAAMiC,EAAOjL,UAEjB,IhBvBwB,agBwBtB,OAAO,eACFwC,EADL,CAEEyG,OAAQgC,EAAOjL,UAEnB,QACE,OAAOwC,IChBI0I,GATK,WAAkD,IAAjD1I,EAAgD,uDAAxC1C,EAAKgD,MAAOmI,EAA4B,uCACnE,OAAQA,EAAOhL,MACf,IdFyB,ccGvB,OAAOgL,EAAOjL,QAChB,QACE,OAAOwC,ICHLuI,GAAW,CACf,IAsBaI,GAdQ,WAAkD,IAAjD3I,EAAgD,uDAAxCuI,GAAUE,EAA8B,uCACtE,OAAQA,EAAOhL,MACf,IThBiB,MSiBf,OAAO,YAAIgL,EAAOjL,SACpB,ITjBkB,OSiBlB,MACyBiL,EAAOjL,QAAtBwB,EADV,EACUA,EAAGF,EADb,EACaA,EAAGmB,EADhB,EACgBA,KACR2I,EAAsB,YAAO5I,GAEnC,OADA4I,EAAS5J,GAAGF,GAAKmB,EACV2I,EACT,QACE,OAAO5I,ICfI6I,GANKC,YAAgB,CAClCvC,QACAtG,QACAY,aCCIkI,GAAQC,YACZC,GACAhE,OAAOiE,8BAAgCjE,OAAOiE,gCAGhDC,IAASC,OACP,kBAAC,IAAa,CAAEL,UACd,kBAACf,GAAD,OAEFxG,SAAS6H,eAAe,SLgHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,c","file":"static/js/main.2b3f3400.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"winWrapper\":\"style_winWrapper__yYes1\",\"fadeIn\":\"style_fadeIn__1NSe1\",\"win\":\"style_win__28PJQ\",\"show\":\"style_show__q6u69\",\"matrix\":\"style_matrix__2l_BV\",\"row\":\"style_row__G4Dr4\",\"col\":\"style_col__1z01R\",\"check\":\"style_check__D9dPB\",\"title\":\"style_title__2ICcC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Nonogram\":\"style_Nonogram__3tK8B\",\"firstRow\":\"style_firstRow__KoKH9\",\"secondRow\":\"style_secondRow__27LXo\",\"matrixBlock\":\"style_matrixBlock__22fCq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Matrix\":\"style_Matrix__38DTq\",\"row\":\"style_row__2RvTf\",\"col\":\"style_col__3KT2s\",\"check\":\"style_check__K2_pg\",\"cross\":\"style_cross__DmXG8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BitLine\":\"style_BitLine__1kG7B\",\"horizontal\":\"style_horizontal__2lPrP\",\"Line\":\"style_Line__2bubD\",\"vertical\":\"style_vertical__2mTT-\",\"BitNumber\":\"style_BitNumber__2d5NI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NonogramPage\":\"style_NonogramPage__1x-1w\",\"header\":\"style_header__SOPT1\",\"lv\":\"style_lv__301J7\",\"time\":\"style_time__2BZOW\",\"pause\":\"style_pause__37qtt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HomePage\":\"style_HomePage__39HyE\",\"header\":\"style_header__3BzhK\",\"stage\":\"style_stage__8mMif\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menuWrapper\":\"style_menuWrapper__2swOq\",\"menu\":\"style_menu__WhB4M\",\"title\":\"style_title__3zmDS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SignTool\":\"style_SignTool__2i_1S\"};","export const SET_TIME = 'SET_TIME';\nexport const TICK_TIME = 'TICK_TIME';\nexport const SET_STATUS = 'SET_STATUS';\n\nexport enum STATUS {\n  WIN = 'WIN',\n  PAUSE = 'PAUSE',\n  PLAYING = 'PLAYING',\n}\n\ninterface SetTimeAction {\n  type: typeof SET_TIME,\n  payload: number;\n}\n\n\ninterface TickTimeAction {\n  type: typeof TICK_TIME,\n}\n\ninterface SetStatusAction {\n  type: typeof SET_STATUS,\n  payload: STATUS;\n}\n\nexport type GameActionTypes = (\n  SetTimeAction |\n  TickTimeAction |\n  SetStatusAction\n);\n\nexport const tickTime = (): TickTimeAction => ({\n  type: TICK_TIME\n});\n\nexport const setStatus = (payload: STATUS): SetStatusAction => ({\n  type: SET_STATUS,\n  payload,\n});\n\nexport const setTime = (payload: number): SetTimeAction => ({\n  type: SET_TIME,\n  payload,\n});","// import stage0 from './0.json';\nimport stage1 from './1.json';\nimport stage2 from './2.json';\nimport stage3 from './3.json';\nimport stage4 from './4.json';\nimport stage5 from './5.json';\n// import stage6 from './6.json';\n// import stage7 from './7.json';\n// import stage8 from './8.json';\n// import stage9 from './9.json';\n// import stage10 from './10.json';\n// import stage11 from './11.json';\n// import stage12 from './12.json';\n// import stage13 from './13.json';\n// import stage14 from './14.json';\n// import stage15 from './15.json';\n// import stage16 from './16.json';\n// import stage17 from './17.json';\n// import stage18 from './18.json';\n// import stage19 from './19.json';\n// import stage20 from './20.json';\n\nconst stages = {\n  // stage0,\n  stage1,\n  stage2,\n  stage3,\n  stage4,\n  // stage5,\n  // stage6,\n  // stage7,\n  // stage8,\n  // stage9,\n  // stage10,\n  // stage11,\n  // stage12,\n  // stage13,\n  // stage14,\n  // stage15,\n  // stage16,\n  // stage17,\n  // stage18,\n  // stage19,\n  // stage20,\n};\n\nexport type StageType = keyof typeof stages;\n\nexport default stages;","import React from 'react';\nimport {\n  Link,\n} from \"react-router-dom\";\nimport stages from 'stages';\n\nimport style from './style.module.scss';\n\ninterface Props {\n\n}\n\nexport const HomePage = (props: Props) => {\n  return (\n    <div className={style.HomePage}>\n      <header className={style.header}>Stage select</header>\n      {Object.keys(stages).map(stage =>\n        <Link\n          to={`/game/${stage}`}\n          key={stage}\n          className={style.stage}\n        >{stage}</Link>\n      )}\n    </div>\n  );\n};\n","export enum SIGN {\n  NONE = 0,\n  CHECK = 1,\n  CROSS = -1,\n}\n\nexport const CHANGE_SIGN = 'CHANGE_SIGN';\n\ninterface ChangeSignAction {\n  type: typeof CHANGE_SIGN;\n  payload: SIGN\n}\n\nexport type ChatActionTypes = ChangeSignAction;\n\nexport const changeSign = (payload: SIGN): ChangeSignAction => ({\n  type: CHANGE_SIGN,\n  payload,\n});\n","import { connect } from 'react-redux';\nimport React, { useEffect } from 'react';\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { set, tickTime, setStatus, setTime, STATUS } from 'actions';\nimport { RootState } from 'reducers';\nimport * as d from \"type\";\nimport stages, { StageType } from 'stages';\n\nimport {\n  PopWin,\n  PopMenu,\n  SignTool,\n  Nonogram,\n} from './components';\n\nimport { Props } from './type';\n\nimport style from './style.module.scss';\n\nconst emptyMatrix = (matrixData: d.NonogramData) =>\n  matrixData.map(row => Array(row.length).fill(0));\n\nconst timeFormatter = (t: number): string => {\n  let s: string = `00${t % 60}`.slice(-2);\n  if(~~(t / 60)) {\n    s = `${~~(t / 60)}:${s}`;\n  }\n  return s;\n};\n\nlet interval: NodeJS.Timer;\n\nconst _NonogramPage = ({\n  set,\n  time,\n  status,\n  setTime,\n  tickTime,\n  setStatus,\n}: Props) => {\n  const history = useHistory();\n  const { lv }: { lv: StageType } = useParams();\n  // const [ time, setTime ] = useState(0);\n  const isWin = STATUS.WIN === status;\n  const isPause = STATUS.PAUSE === status;\n  const isPlaying = STATUS.PLAYING === status;\n\n  useEffect(() => {\n    set(emptyMatrix(stages[lv]));\n  }, [lv]);\n\n  useEffect(() => {\n    if(isPlaying) interval = setInterval(() => {\n      tickTime();\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [isPlaying]);\n\n  useEffect(() => {\n    isWin && clearInterval(interval);\n  }, [isWin]);\n\n  const handleRestart = () => {\n    setTime(0);\n    setStatus(STATUS.PLAYING);\n    set(emptyMatrix(stages[lv]));\n  };\n\n  const handleBackMenu = () => {\n    handleRestart();\n    history.push('/');\n  };\n\n  const handleNext = () => {\n    const stageList = Object.keys(stages);\n    const nextIndex = (stageList.indexOf(lv) + 1) % stageList.length;\n    setTime(0);\n    set(emptyMatrix(stages[(stageList[nextIndex]) as StageType]));\n    history.push(`/game/${stageList[nextIndex]}`);\n    setStatus(STATUS.PLAYING);\n  };\n\n  return (\n    <div className={style.NonogramPage}>\n      <Nonogram {...{ matrixData: stages[lv] }} />\n      <SignTool />\n      <div className={style.header}>\n        <div className={style.lv}>\n          Stage {lv.slice(5)}\n        </div>\n        <div className={style.time}>\n          {timeFormatter(time)}\n        </div>\n        <div\n          className={style.pause}\n          onClick={setStatus.bind(this, STATUS.PAUSE)}\n        />\n      </div>\n      {isPause &&\n        <PopMenu\n          onRestart={handleRestart}\n          onBackMenu={handleBackMenu}\n          onClose={setStatus.bind(this, STATUS.PLAYING)}\n        />\n      }\n      {isWin &&\n        <PopWin\n          onNext={handleNext}\n          matrixData={stages[lv]}\n          onRestart={handleRestart}\n          onBackMenu={handleBackMenu}\n        />\n      }\n    </div>\n  );\n};\n\nconst mapState2Props = (state: RootState) => ({\n  ...state.game,\n});\n\nconst mapDispatch2Props = {\n  set,\n  setTime,\n  tickTime,\n  setStatus,\n};\n\nexport const NonogramPage = connect(mapState2Props, mapDispatch2Props)(_NonogramPage);\n","import cx from 'classnames';\nimport React, { useEffect, createRef } from 'react';\n\nimport style from './style.module.scss';\n\nimport { Props } from './type';\n\nexport const PopWin = ({\n  onNext,\n  onRestart,\n  matrixData,\n  onBackMenu,\n}: Props) => {\n\n  const matrixDOM = createRef<HTMLDivElement>();\n\n  useEffect(() => {\n    const hCount = matrixData.length;\n    const vCount = matrixData[0].length;\n    matrixDOM.current!.style.height = `${matrixDOM.current!.offsetWidth / hCount * vCount}px`;\n  }, []);\n\n  return (\n    <div className={style.winWrapper}>\n      <ul className={style.win}>\n        <li>\n          <div ref={matrixDOM} className={style.matrix}>\n            {matrixData.map((row, y) =>\n              <div key={y} className={style.row}>\n                {row.map((col, x) =>\n                  <div key={x} className={cx(\n                    style.col, {\n                      [style.check]: col,\n                    }\n                  )} />\n                )}\n              </div>\n            )}\n          </div>\n        </li>\n        <li className={style.title}>YOU WIN</li>\n        <li onClick={onNext}>Next</li>\n        <li onClick={onRestart}>Restart</li>\n        <li onClick={onBackMenu}>Menu</li>\n      </ul>\n    </div>\n  );\n};\n","import React, { createRef } from 'react';\n\nimport style from './style.module.scss';\n\nimport { Props } from './type';\n\nexport const PopMenu = ({ onClose, onRestart, onBackMenu }: Props) => {\n\n  const popMenuDOM = createRef<HTMLDivElement>();\n\n  const handleClick = (e: any) => {\n    (e.target === popMenuDOM.current) && onClose();\n  };\n\n  return (\n    <div ref={popMenuDOM} className={style.menuWrapper} onClick={handleClick}>\n      <ul className={style.menu}>\n        <li className={style.title}>PAUSE</li>\n        <li onClick={onClose}>Resume</li>\n        <li onClick={onRestart}>Restart</li>\n        <li onClick={onBackMenu}>Menu</li>\n      </ul>\n    </div>\n  );\n};\n","import React from 'react';\nimport { connect } from \"react-redux\";\n\nimport { RootState } from 'reducers';\nimport { changeSign, SIGN } from 'actions';\nimport { Props } from './type';\n\nimport style from './style.module.scss';\n\nexport const _SignTool: React.FunctionComponent<Props> = ({ changeSign, ...props }) => {\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    changeSign(+e.target.value);\n  };\n\n  return (\n    <div className={style.SignTool}>\n      <input\n        id=\"check\"\n        name=\"sign\"\n        type=\"radio\"\n        value={SIGN.CHECK}\n        onChange={handleChange}\n        checked={props.sign === SIGN.CHECK}\n      />\n      <label htmlFor=\"check\">✓ check</label>\n      <input\n        id=\"cross\"\n        name=\"sign\"\n        type=\"radio\"\n        value={SIGN.CROSS}\n        onChange={handleChange}\n        checked={props.sign === SIGN.CROSS}\n      />\n      <label htmlFor=\"cross\">× cross</label>\n    </div>\n  );\n};\n\nconst mapState2Props = (state: RootState) => ({\n  sign: state.sign,\n});\n\nconst mapDispatch2Props = {\n  changeSign: (payload: SIGN) => changeSign(payload),\n};\n\nexport const SignTool = connect(\n  mapState2Props,\n  mapDispatch2Props\n)(_SignTool);","import cx from 'classnames';\nimport { connect } from 'react-redux';\nimport React, { useState, useEffect } from 'react';\n\nimport { RootState } from 'reducers';\nimport { mark, setStatus, SIGN, STATUS } from 'actions';\n\nimport { BitData } from 'type';\nimport { Props } from './type';\n\nimport style from './style.module.scss';\n\nexport const _Matrix: React.FunctionComponent<Props> = ({\n  mark,\n  data,\n  sign,\n  martrix,\n  setStatus,\n}: Props) => {\n\n  const [x, setX] = useState(-1);\n  const [y, setY] = useState(-1);\n  const [isErase, setIsErase] = useState(false);\n\n  // const handleClick = (x: number, y: number) => {\n  //   console.log(`我按了 [${x}, ${y}]`);\n  // }\n\n  const handleStart = (x: number, y: number) => {\n    if(martrix[x][y] === sign) {\n      setIsErase(true);\n      mark({x, y, sign: SIGN.NONE});\n    } else {\n      mark({x, y, sign});\n    }\n  };\n\n  const handleMove = (e: React.TouchEvent) => {\n    const DOM = document.elementFromPoint(\n      e.touches[0].clientX,\n      e.touches[0].clientY\n    ) as Element;\n    if(DOM === null) return;\n    if(DOM.getAttribute('data-type') !== 'box') return;\n\n    const updateX:number = +DOM.getAttribute('data-x')!;\n    const updateY:number = +DOM.getAttribute('data-y')!;\n\n    if(updateX !== x || updateY !== y) {\n      setX(updateX);\n      setY(updateY);\n      mark({\n        x: updateX,\n        y: updateY,\n        sign: isErase ? SIGN.NONE: sign,\n      });\n    }\n  };\n\n  const handleEnd = () => {\n    setIsErase(false);\n  };\n\n  useEffect(() => {\n    const isCorrect = martrix.every((row: BitData, x: number) =>\n      [...row.keys()].every(y =>\n        martrix[x][y] === SIGN.CHECK ?\n          martrix[x][y] === data[x][y]:\n          data[x][y] !==  SIGN.CHECK\n      )\n    );\n\n    if(isCorrect) {\n      setStatus(STATUS.WIN);\n    }\n\n  }, [martrix, data]);\n\n  // data 是題目，matrix 是作答\n  return (\n    <div className={style.Matrix}>\n      {data.map((row, x) =>\n        <div key={x} className={style.row}>\n          {[...row.keys()].map((y: number) =>\n            <div\n              data-x={x}\n              data-y={y}\n              data-type=\"box\"\n              key={y}\n              className={cx(style.col, {\n                [style.check]: martrix[x][y] === 1,\n                [style.cross]: martrix[x][y] === -1,\n              })}\n              // onMouseDown={handleClick.bind(this, x, y)}\n              // onMouseOver={e => console.log(e.target)}\n              onTouchStart={handleStart.bind(this, x, y)}\n              onTouchMove={handleMove}\n              onTouchEnd={handleEnd}\n            />\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst mapState2Props = (state: RootState) => ({\n  sign: state.sign,\n  martrix: state.martrix,\n});\n\nconst mapDispatch2Props = {\n  mark,\n  setStatus,\n};\n\nexport const Matrix = connect(mapState2Props, mapDispatch2Props)(_Matrix);\n","import { SIGN } from 'actions';\nimport { NonogramData } from 'type';\n\nexport const SET = 'SET';\nexport const MARK = 'MARK';\n\nexport interface DispatchParams {\n  x: number,\n  y: number,\n  sign: SIGN,\n}\n\ninterface SetAction {\n  type: typeof SET;\n  payload: NonogramData\n}\n\ninterface MarkAction {\n  type: typeof MARK;\n  payload: DispatchParams\n}\n\nexport type MatrixActionTypes = SetAction | MarkAction;\n\nexport const set = (payload: NonogramData) => ({ type: SET, payload });\nexport const mark = (payload: DispatchParams) => ({ type: MARK, payload });","import React from 'react';\nimport cx from 'classnames';\n\nimport * as d from './index.d';\nimport { BitData } from 'type';\n\nimport style from './style.module.scss';\n\ntype Props = d.BitLinePropsType<BitData>;\n\nexport const longestLen = (data: BitData[]) =>\n  Math.max(...data.map(arr => arr.length));\n\nexport const BitLine: React.FunctionComponent<Props> = ({ data, direction }) => {\n  const maxLen = longestLen(data);\n  return (\n    <div className={cx(\n      style.BitLine, {\n        [style[direction]]: true\n      }\n    )}>\n      {data.map((lineData, index) =>\n        <div key={index} className={style.Line}>\n          <div\n            className={style.offset}\n            style={{flex: maxLen - lineData.length}}\n          />\n          {lineData.map((bitNumber, index) =>\n            <div key={index} className={style.BitNumber}>\n              {bitNumber}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n","import React from 'react';\nimport { useResize } from 'hooks';\nimport * as d from 'type';\n\nimport {\n  Matrix,\n  BitLine,\n  longestLen,\n} from './components';\n\nimport style from './style.module.scss';\n\ntype Props = d.NonogramPropsType;\n\nexport const flatSum = (arr: number[]) =>\n  arr.join(\"\")\n    .replace(/00/g, '0')\n    .split(\"0\")\n    .map(s => s.length)\n    .filter(v => v);\n\n// resetData();\n\nexport const Nonogram: React.FunctionComponent<Props> = ({\n  matrixData,\n}) => {\n\n  // 這些資料通常是 matrixData 有更新的才會跟著一起變\n  const hData: d.BitData[] = [...Array(matrixData[0].length).keys()].map(index =>\n    flatSum(matrixData.map(row => row[index]))\n  );\n  const vData: d.BitData[] = matrixData.map(flatSum);\n\n  const vMaxLen: number = longestLen(vData);\n  const hMaxLen: number = longestLen(hData);\n  const col1Style: object = { flex: vMaxLen };\n  const col2Style: object = { flex: hData.length };\n\n\n  const [ width, height ] = useResize({\n    hLen: hData.length + vMaxLen,\n    vLen: vData.length + hMaxLen,\n  });\n\n  if(!width || !height) return null;\n\n  return (\n    <div\n      style={{ width, height }}\n      className={style.Nonogram}\n    >\n      <div className={style.firstRow} style={{flex: hMaxLen}}>\n        <div className={style.empty} style={col1Style} />\n        <div className={style.horizontalInfo} style={col2Style}>\n          <BitLine data={hData} direction={'horizontal'} />\n        </div>\n      </div>\n      <div className={style.secondRow} style={{flex: vData.length}}>\n        <div className={style.verticalInfo} style={col1Style}>\n          <BitLine data={vData} direction={'vertical'} />\n        </div>\n        <div className={style.matrixBlock} style={col2Style}>\n          <Matrix {...{\n            data: matrixData\n          }} />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport * as d from './useSize.d';\n\nconst get2Size: d.Get2SizeFunc = params => {\n  return {\n    wBaseSize: {\n      width: params.borderW,\n      height: params.borderW / params.hLen * params.vLen,\n    },\n    hBaseSize: {\n      width: params.borderH / params.vLen * params.hLen,\n      height: params.borderH,\n    },\n  };\n};\n\nexport const useResize: d.UseResizeFunc = (\n  { hLen ,vLen }: d.UseResizeProps\n): number[] => {\n  const [size, setSize] = useState([0, 0]);\n  useEffect(() => {\n    let curWidth = 0;\n    let curHeight = 0;\n    /** 直向大小 */\n    function resize() {\n      let width = 0;\n      let height = 0;\n\n      if(!hLen || !vLen) return setSize([0, 0]);\n\n      const {\n        innerWidth: borderW,\n        innerHeight: borderH,\n      } = window;\n\n      // 取得以寬、以高為基礎的寬高\n      // 取寬高都小於視窗的size\n      const { wBaseSize, hBaseSize } = get2Size({\n        hLen,\n        vLen,\n        borderW,\n        borderH,\n      });\n\n      if(wBaseSize.width <= borderW && wBaseSize.height <= borderH) {\n        width = wBaseSize.width;\n        height = wBaseSize.height;\n      } else {\n        width = hBaseSize.width;\n        height = hBaseSize.height;\n      }\n      if(curWidth !== width || curHeight !== height) {\n        setSize([ width, height ]);\n        curWidth = width;\n        curHeight = height;\n      }\n    }\n    window.addEventListener('resize', resize);\n    resize();\n    return () => window.removeEventListener('resize', resize);\n  }, [hLen, vLen]);\n  return size;\n};\n","import React from 'react';\n\ninterface Props {\n\n}\n\nexport const NotFoundPage = (props: Props) => {\n  return (\n    <div>\n      NotFoundPage\n    </div>\n  );\n};\n","import {\n  Route,\n  Switch,\n  BrowserRouter,\n} from \"react-router-dom\";\nimport React from 'react';\n\nimport {\n  HomePage,\n  NonogramPage,\n  NotFoundPage,\n} from \"pages\";\n\nimport style from './App.module.scss';\n\nexport default function App() {\n  return (\n    <div className={style.App}>\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\"><HomePage /></Route>\n          <Route exact path=\"/game/:lv\"><NonogramPage /></Route>\n          <Route path=\"*\"><NotFoundPage /></Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {\n  STATUS,\n  SET_TIME,\n  TICK_TIME,\n  SET_STATUS,\n  GameActionTypes,\n} from 'actions';\n\nconst initData = {\n  time: 0,\n  status: STATUS.PLAYING,\n};\n\nconst gameReducer = (state = initData, action: GameActionTypes) => {\n  switch (action.type) {\n  case TICK_TIME:\n    return {\n      ...state,\n      time: state.time + 1,\n    };\n  case SET_TIME:\n    return {\n      ...state,\n      time: action.payload,\n    };\n  case SET_STATUS:\n    return {\n      ...state,\n      status: action.payload,\n    };\n  default:\n    return state;\n  }\n};\n\nexport default gameReducer;","import {\n  SIGN,\n  CHANGE_SIGN,\n  ChatActionTypes,\n} from \"actions\";\n\nconst signReducer = (state = SIGN.CHECK, action: ChatActionTypes) => {\n  switch (action.type) {\n  case CHANGE_SIGN:\n    return action.payload;\n  default:\n    return state;\n  }\n};\n\nexport default signReducer;","import { NonogramData } from 'type';\n\nimport {\n  SET,\n  MARK,\n  MatrixActionTypes,\n} from 'actions';\n\nconst initData = [\n  [],\n  // [0, 1, 0, 1, 0],\n  // [1, 1, 1, 1, 1],\n  // [1, 1, 0, 1, 1],\n  // [0, 1, 1, 1, 0],\n  // [0, 0, 1, 0, 0],\n];\n\nconst martrixReducer = (state = initData, action: MatrixActionTypes) => {\n  switch (action.type) {\n  case SET:\n    return [...action.payload];\n  case MARK:\n    const { x, y, sign } = action.payload;\n    const newState: NonogramData = [...state];\n    newState[x][y] = sign;\n    return newState;\n  default:\n    return state;\n  }\n};\n\nexport default martrixReducer;","import { combineReducers } from 'redux';\n\nimport game from './gameReducer';\nimport sign from './signReducer';\nimport martrix from './martrixReducer';\n\nconst rootReducer = combineReducers({\n  game,\n  sign,\n  martrix,\n});\n\nexport default rootReducer;\n\nexport type RootState = ReturnType<typeof rootReducer>","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport redcuers from 'reducers';\n\nconst store = createStore(\n  redcuers,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <Provider {...{ store }}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById('root')\n// );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}